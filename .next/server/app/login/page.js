(()=>{var e={};e.id=626,e.ids=[626],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},95247:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>b,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var a=r(50482),i=r(69108),n=r(62563),o=r.n(n),s=r(68300),c={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>s[e]);r.d(t,c);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29925)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\login\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,88958)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\error.js"],loading:[()=>Promise.resolve().then(r.bind(r,65016)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\login\\page.js"],u="/login/page",b={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62027:(e,t,r)=>{let a={"20087f54aa602d5b4086a378c4299745dc4b626c":()=>Promise.resolve().then(r.bind(r,58634)).then(e=>e.signOutAction),"2e331df8dec3e9e323daee26687fce2ab53df48f":()=>Promise.resolve().then(r.bind(r,58634)).then(e=>e.editBookingAction),"51b2b1cba7e171f1a45553ca6886f74d0a56b5eb":()=>Promise.resolve().then(r.bind(r,58634)).then(e=>e.updateProfileAction),"8b7c6bed1c0cd29ebf2b89b9903e59109d354911":()=>Promise.resolve().then(r.bind(r,58634)).then(e=>e.signInAction),"90345a854b6eafea256aa9cb5b4c6397eac54871":()=>Promise.resolve().then(r.bind(r,58634)).then(e=>e.deleteProfileAction)};async function i(e,...t){return(await a[e]()).apply(null,t)}e.exports={"20087f54aa602d5b4086a378c4299745dc4b626c":i.bind(null,"20087f54aa602d5b4086a378c4299745dc4b626c"),"2e331df8dec3e9e323daee26687fce2ab53df48f":i.bind(null,"2e331df8dec3e9e323daee26687fce2ab53df48f"),"51b2b1cba7e171f1a45553ca6886f74d0a56b5eb":i.bind(null,"51b2b1cba7e171f1a45553ca6886f74d0a56b5eb"),"8b7c6bed1c0cd29ebf2b89b9903e59109d354911":i.bind(null,"8b7c6bed1c0cd29ebf2b89b9903e59109d354911"),"90345a854b6eafea256aa9cb5b4c6397eac54871":i.bind(null,"90345a854b6eafea256aa9cb5b4c6397eac54871")}},58634:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteProfileAction:()=>b,editBookingAction:()=>p,signInAction:()=>d,signOutAction:()=>l,updateProfileAction:()=>u});var a=r(31542);r(68616);var i=r(66864),n=r(46370),o=r(61024),s=r(66563),c=r(867);async function d({request:e}){await (0,n.zB)("google",{redirectTo:"/account"})}async function l(){await (0,n.w7)({redirectTo:"/"})}async function u(e){let t=await (0,n.I8)();if(!t)throw Error("You must be logged in");console.log(t);let r=e.get("nationalID"),[a,s]=e.get("nationality").split("%");if(!/^[a-zA-Z0-9]{6,12}$/.test(r))throw Error("Please provide a valid national ID");let c={nationality:a,countryFlag:s,nationalId:r};console.log(c);let{data:d,error:l}=await o.O.from("guests").update(c).eq("id",t.user.id);if(l)throw Error("Guest could not be updated");(0,i.revalidatePath)("/account/profile")}async function b(e){let t=await (0,n.I8)();if(!t)throw Error("You must be logged in");if(!(await (0,s.aL)(t.user.id)).map(e=>e.id).includes(e))throw Error("You can only delete your own bookings");let{error:r}=await o.O.from("bookings").delete().eq("id",e);if(r)throw Error("Booking could not be deleted");(0,i.revalidatePath)("/account/reservations")}async function p(e){let t=e.get("bookingid"),r=await (0,n.I8)();if(!r)throw Error("You must be logged in");if(!(await (0,s.aL)(r.user.id)).map(e=>String(e.id)).includes(t))throw Error("You can only delete your own bookings");let a={numGuests:e.get("numGuests"),observations:e.get("observations")},{data:d,error:l}=await o.O.from("bookings").update(a).eq("id",t).select().single();if(l)throw console.error(l),Error("Booking could not be updated");(0,i.revalidatePath)(`/account/reservations/edit/${t}`),(0,i.revalidatePath)("/account/reservations"),(0,c.redirect)("/account/reservations")}(0,r(42053).h)([d,l,u,b,p]),(0,a.j)("8b7c6bed1c0cd29ebf2b89b9903e59109d354911",d),(0,a.j)("20087f54aa602d5b4086a378c4299745dc4b626c",l),(0,a.j)("51b2b1cba7e171f1a45553ca6886f74d0a56b5eb",u),(0,a.j)("90345a854b6eafea256aa9cb5b4c6397eac54871",b),(0,a.j)("2e331df8dec3e9e323daee26687fce2ab53df48f",p)},29925:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(25036),i=r(58634);let n=function(){return a.jsx("form",{action:i.signInAction,children:(0,a.jsxs)("button",{className:"flex items-center gap-6 text-lg border border-primary-300 px-10 py-4 font-medium",children:[a.jsx("img",{src:"https://authjs.dev/img/providers/google.svg",alt:"Google logo",height:"24",width:"24"}),a.jsx("span",{children:"Continue with Google"})]})})};function o(){return(0,a.jsxs)("div",{className:"flex flex-col gap-10 mt-10 items-center",children:[a.jsx("h2",{className:"text-3xl font-semibold",children:"Sign in to access your guest area"}),a.jsx(n,{})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,148,38,864,222,867],()=>r(95247));module.exports=a})();