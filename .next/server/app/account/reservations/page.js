(()=>{var e={};e.id=597,e.ids=[597],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},73259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var a=r(50482),n=r(69108),s=r(62563),i=r.n(s),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["account",{children:["reservations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,65650)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\account\\reservations\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11615)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\account\\layout.js"],loading:[()=>Promise.resolve().then(r.bind(r,69547)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\account\\loading.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,88958)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\error.js"],loading:[()=>Promise.resolve().then(r.bind(r,65016)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["G:\\next js project\\anandhu-wild-oasis-final-2-after-start\\app\\account\\reservations\\page.js"],d="/account/reservations/page",f={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/account/reservations/page",pathname:"/account/reservations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28040:(e,t,r)=>{let a={"20087f54aa602d5b4086a378c4299745dc4b626c":()=>Promise.resolve().then(r.bind(r,51815)).then(e=>e.signOutAction),"2e331df8dec3e9e323daee26687fce2ab53df48f":()=>Promise.resolve().then(r.bind(r,51815)).then(e=>e.editBookingAction),"51b2b1cba7e171f1a45553ca6886f74d0a56b5eb":()=>Promise.resolve().then(r.bind(r,51815)).then(e=>e.updateProfileAction),"8b7c6bed1c0cd29ebf2b89b9903e59109d354911":()=>Promise.resolve().then(r.bind(r,51815)).then(e=>e.signInAction),"90345a854b6eafea256aa9cb5b4c6397eac54871":()=>Promise.resolve().then(r.bind(r,51815)).then(e=>e.deleteProfileAction)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"20087f54aa602d5b4086a378c4299745dc4b626c":n.bind(null,"20087f54aa602d5b4086a378c4299745dc4b626c"),"2e331df8dec3e9e323daee26687fce2ab53df48f":n.bind(null,"2e331df8dec3e9e323daee26687fce2ab53df48f"),"51b2b1cba7e171f1a45553ca6886f74d0a56b5eb":n.bind(null,"51b2b1cba7e171f1a45553ca6886f74d0a56b5eb"),"8b7c6bed1c0cd29ebf2b89b9903e59109d354911":n.bind(null,"8b7c6bed1c0cd29ebf2b89b9903e59109d354911"),"90345a854b6eafea256aa9cb5b4c6397eac54871":n.bind(null,"90345a854b6eafea256aa9cb5b4c6397eac54871")}},13506:(e,t,r)=>{Promise.resolve().then(r.bind(r,80580)),Promise.resolve().then(r.bind(r,72587)),Promise.resolve().then(r.t.bind(r,31900,23)),Promise.resolve().then(r.t.bind(r,61476,23))},42059:(e,t,r)=>{Promise.resolve().then(r.bind(r,42890))},80580:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(95344),n=r(3729);let s=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))});r(87847);let i=function(){return a.jsx("div",{className:"spinner-mini"})},o=function({bookingId:e,onDelete:t}){let[r,o]=(0,n.useTransition)();return console.log(e),a.jsx("button",{onClick:function(){confirm("Are you sure you want to delete this reservation? This action cannot be undone.")&&o(()=>t(e))},className:"group flex items-center gap-2 uppercase text-xs font-bold text-primary-300 flex-grow px-3 hover:bg-accent-600 transition-colors hover:text-primary-900",children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx(s,{className:"h-5 w-5 text-primary-600 group-hover:text-primary-800 transition-colors"}),a.jsx("span",{className:"mt-1",children:a.jsx(i,{})})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(s,{className:"h-5 w-5 text-primary-600 group-hover:text-primary-800 transition-colors"}),a.jsx("span",{className:"mt-1",children:"Delete"})]})})}},72587:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var a=r(95344),n=r(3729);let s=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),n.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))});var i=r(60522);function o(e,t){let r=(0,i.Q)(e),a=(0,i.Q)(t),n=r.getTime()-a.getTime();return n<0?-1:n>0?1:n}var l=r(99486),c=r(4474),u=r(15802),d=r(47173),f=r(34191),m=r(21412);let p={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},x=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,h=/^([+-])(\d{2})(?::?(\d{2}))?$/;function g(e){return e?parseInt(e):1}function v(e){return e&&parseFloat(e.replace(",","."))||0}let y=[31,null,31,30,31,30,31,31,30,31,30,31];function w(e){return e%400==0||e%4==0&&e%100!=0}function j(e){return+(0,i.Q)(e)<Date.now()}var N=r(22156),D=r(78782),P=r(11657),E=r(80580),M=r(37412),T=r.n(M),_=r(56506);let G=e=>(function(e,t,r){var a,n,s,p;let x,b,h;let g=(0,f.j)(),v=r?.locale??g.locale??d._,y=o(e,t);if(isNaN(y))throw RangeError("Invalid time value");let w=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:y});y>0?(x=(0,i.Q)(t),b=(0,i.Q)(e)):(x=(0,i.Q)(e),b=(0,i.Q)(t));let j=(a=b,n=x,(p=void 0,e=>{let t=(p?Math[p]:Math.trunc)(e);return 0===t?0:t})((+(0,i.Q)(a)-+(0,i.Q)(n))/1e3)),N=Math.round((j-((0,m.D)(b)-(0,m.D)(x))/1e3)/60);if(N<2){if(r?.includeSeconds){if(j<5)return v.formatDistance("lessThanXSeconds",5,w);if(j<10)return v.formatDistance("lessThanXSeconds",10,w);if(j<20)return v.formatDistance("lessThanXSeconds",20,w);if(j<40)return v.formatDistance("halfAMinute",0,w);else if(j<60)return v.formatDistance("lessThanXMinutes",1,w);else return v.formatDistance("xMinutes",1,w)}return 0===N?v.formatDistance("lessThanXMinutes",1,w):v.formatDistance("xMinutes",N,w)}if(N<45)return v.formatDistance("xMinutes",N,w);if(N<90)return v.formatDistance("aboutXHours",1,w);if(N<l.H_)return v.formatDistance("aboutXHours",Math.round(N/60),w);if(N<2520)return v.formatDistance("xDays",1,w);if(N<l.fH){let e=Math.round(N/l.H_);return v.formatDistance("xDays",e,w)}if(N<2*l.fH)return h=Math.round(N/l.fH),v.formatDistance("aboutXMonths",h,w);if((h=function(e,t){let r;let a=(0,i.Q)(e),n=(0,i.Q)(t),s=o(a,n),l=Math.abs((0,c.T)(a,n));if(l<1)r=0;else{1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-s*l);let t=o(a,n)===-s;(function(e){let t=(0,i.Q)(e);return+function(e){let t=(0,i.Q)(e);return t.setHours(23,59,59,999),t}(t)==+(0,u.V)(t)})((0,i.Q)(e))&&1===l&&1===o(e,n)&&(t=!1),r=s*(l-Number(t))}return 0===r?0:r}(b,x))<12){let e=Math.round(N/l.fH);return v.formatDistance("xMonths",e,w)}{let e=h%12,t=Math.trunc(h/12);return e<3?v.formatDistance("aboutXYears",t,w):e<9?v.formatDistance("overXYears",t,w):v.formatDistance("almostXYears",t+1,w)}})(function(e,t){let r,a;let n=function(e){let t;let r={},a=e.split(p.dateTimeDelimiter);if(a.length>2)return r;if(/:/.test(a[0])?t=a[0]:(r.date=a[0],t=a[1],p.timeZoneDelimiter.test(r.date)&&(r.date=e.split(p.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){let e=p.timezone.exec(t);e?(r.time=t.replace(e[1],""),r.timezone=e[1]):r.time=t}return r}(e);if(n.date){let e=function(e,t){let r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};let n=a[1]?parseInt(a[1]):null,s=a[2]?parseInt(a[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((a[1]||a[2]).length)}}(n.date,(void 0)??2);r=function(e,t){if(null===t)return new Date(NaN);let r=e.match(x);if(!r)return new Date(NaN);let a=!!r[4],n=g(r[1]),s=g(r[2])-1,i=g(r[3]),o=g(r[4]),l=g(r[5])-1;if(a)return o>=1&&o<=53&&l>=0&&l<=6?function(e,t,r){let a=new Date(0);a.setUTCFullYear(e,0,4);let n=a.getUTCDay()||7;return a.setUTCDate(a.getUTCDate()+((t-1)*7+r+1-n)),a}(t,o,l):new Date(NaN);{let e=new Date(0);return s>=0&&s<=11&&i>=1&&i<=(y[s]||(w(t)?29:28))&&n>=1&&n<=(w(t)?366:365)?(e.setUTCFullYear(t,s,Math.max(n,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);let s=r.getTime(),i=0;if(n.time&&isNaN(i=function(e){let t=e.match(b);if(!t)return NaN;let r=v(t[1]),a=v(t[2]),n=v(t[3]);return(24===r?0===a&&0===n:n>=0&&n<60&&a>=0&&a<60&&r>=0&&r<25)?r*l.vh+a*l.yJ+1e3*n:NaN}(n.time)))return new Date(NaN);if(n.timezone){if(isNaN(a=function(e){if("Z"===e)return 0;let t=e.match(h);if(!t)return 0;let r="+"===t[1]?-1:1,a=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return n>=0&&n<=59?r*(a*l.vh+n*l.yJ):NaN}(n.timezone)))return new Date(NaN)}else{let e=new Date(s+i),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(s+i+a)}(e),new Date,{addSuffix:!0}).replace("about ",""),S=function({booking:e,onDelete:t}){var r;let{id:n,guestId:i,startDate:o,endDate:l,numNights:c,totalPrice:u,numGuests:d,status:f,created_at:m,cabins:{name:p,image:x}}=e;return(0,a.jsxs)("div",{className:"flex border border-primary-800",children:[a.jsx("div",{className:"relative h-32 aspect-square",children:a.jsx(T(),{fill:!0,src:x,alt:`Cabin ${p}`,className:"object-cover border-r border-primary-800"})}),(0,a.jsxs)("div",{className:"flex-grow px-6 py-3 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold",children:[c," nights in Cabin ",p]}),j(new Date(o))?a.jsx("span",{className:"bg-yellow-800 text-yellow-200 h-7 px-3 uppercase text-xs font-bold flex items-center rounded-sm",children:"past"}):a.jsx("span",{className:"bg-green-800 text-green-200 h-7 px-3 uppercase text-xs font-bold flex items-center rounded-sm",children:"upcoming"})]}),(0,a.jsxs)("p",{className:"text-lg text-primary-300",children:[(0,N.WU)(new Date(o),"EEE, MMM dd yyyy")," (",(r=new Date(o),(0,P.K)(r,(0,D.L)(r,Date.now())))?"Today":G(o),") — ",(0,N.WU)(new Date(l),"EEE, MMM dd yyyy")]}),(0,a.jsxs)("div",{className:"flex gap-5 mt-auto items-baseline",children:[(0,a.jsxs)("p",{className:"text-xl font-semibold text-accent-400",children:["$",u]}),a.jsx("p",{className:"text-primary-300",children:"•"}),(0,a.jsxs)("p",{className:"text-lg text-primary-300",children:[d," guest",d>1&&"s"]}),(0,a.jsxs)("p",{className:"ml-auto text-sm text-primary-400",children:["Booked ",(0,N.WU)(new Date(m),"EEE, MMM dd yyyy, p")]})]})]}),a.jsx("div",{className:"flex flex-col border-l border-primary-800 w-[100px]",children:j(o)?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_.default,{href:`/account/reservations/edit/${n}`,className:"group flex items-center gap-2 uppercase text-xs font-bold text-primary-300 border-b border-primary-800 flex-grow px-3 hover:bg-accent-600 transition-colors hover:text-primary-900",children:[a.jsx(s,{className:"h-5 w-5 text-primary-600 group-hover:text-primary-800 transition-colors"}),a.jsx("span",{className:"mt-1",children:"Edit"})]}),a.jsx(E.default,{bookingId:n,onDelete:t})]})})]})};var q=r(87847);let I=function({bookings:e}){let[t,r]=(0,n.useOptimistic)(e,(e,t)=>e.filter(e=>e.id!==t));async function s(e){r(e),await (0,q.yx)(e)}return a.jsx("ul",{className:"space-y-6",children:t.map(e=>a.jsx(S,{booking:e,onDelete:s},e.id))})}},42890:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(95344),n=r(56506),s=r(19450),i=r(6640),o=r(67088),l=r(34770),c=r(87847);let u=function(){return a.jsx("form",{action:c.NH,children:(0,a.jsxs)("button",{className:"py-3 px-5 hover:bg-primary-900 hover:text-primary-100 transition-colors flex items-center gap-4 font-semibold text-primary-200 w-full",children:[a.jsx(l.Z,{className:"h-5 w-5 text-primary-600"}),a.jsx("span",{children:"Sign out"})]})})};var d=r(8428);let f=[{name:"Home",href:"/account",icon:a.jsx(s.Z,{className:"h-5 w-5 text-primary-600"})},{name:"Reservations",href:"/account/reservations",icon:a.jsx(i.Z,{className:"h-5 w-5 text-primary-600"})},{name:"Guest profile",href:"/account/profile",icon:a.jsx(o.Z,{className:"h-5 w-5 text-primary-600"})}],m=function(){let e=(0,d.usePathname)();return a.jsx("nav",{className:"border-r border-primary-900",children:(0,a.jsxs)("ul",{className:"flex flex-col gap-2 h-full text-lg",children:[f.map(t=>a.jsx("li",{children:(0,a.jsxs)(n.default,{className:`py-3 px-5 hover:bg-primary-900 hover:text-primary-100 transition-colors flex items-center gap-4 font-semibold text-primary-200 ${e===t.href?"bg-primary-900 text-primary-100":""}`,href:t.href,children:[t.icon,a.jsx("span",{children:t.name})]})},t.name)),a.jsx("li",{className:"mt-auto",children:a.jsx(u,{})})]})})}},87847:(e,t,r)=>{"use strict";r.d(t,{NH:()=>n,k3:()=>s,yx:()=>i}),r(13664);var a=r(28371);(0,a.$)("2e331df8dec3e9e323daee26687fce2ab53df48f"),(0,a.$)("8b7c6bed1c0cd29ebf2b89b9903e59109d354911");var n=(0,a.$)("20087f54aa602d5b4086a378c4299745dc4b626c"),s=(0,a.$)("51b2b1cba7e171f1a45553ca6886f74d0a56b5eb"),i=(0,a.$)("90345a854b6eafea256aa9cb5b4c6397eac54871")},37412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getImageProps:function(){return o},default:function(){return l}});let a=r(39694),n=r(83855),s=r(31900),i=a._(r(74931)),o=e=>{let{props:t}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},l=s.Image},88335:(e,t,r)=>{"use strict";r.d(t,{auth:()=>o,signIn:()=>l,signOut:()=>c});var a=r(29538),n=r(67152),s=r(97411);let i={providers:[(0,n.default)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{authorized:({auth:e,request:t})=>!!e?.user,async signIn({user:e,account:t,profile:r}){try{let t=await (0,s.getGuest)(e.email);console.log(t),t||await (0,s.createGuest)({email:e.email,fullName:e.name})}catch{return!1}return!0},async session({session:e,user:t}){let r=await (0,s.getGuest)(e.user.email);return e.user.id=r?.id,e}},pages:{signIn:"/login"}},{auth:o,signIn:l,signOut:c,handlers:{GET:u,POST:d}}=(0,a.default)(i)},51815:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteProfileAction:()=>f,editBookingAction:()=>m,signInAction:()=>c,signOutAction:()=>u,updateProfileAction:()=>d});var a=r(60398);r(75811);var n=r(43811),s=r(88335),i=r(2075),o=r(97411),l=r(52810);async function c({request:e}){await (0,s.signIn)("google",{redirectTo:"/account"})}async function u(){await (0,s.signOut)({redirectTo:"/"})}async function d(e){let t=await (0,s.auth)();if(!t)throw Error("You must be logged in");console.log(t);let r=e.get("nationalID"),[a,o]=e.get("nationality").split("%");if(!/^[a-zA-Z0-9]{6,12}$/.test(r))throw Error("Please provide a valid national ID");let l={nationality:a,countryFlag:o,nationalId:r};console.log(l);let{data:c,error:u}=await i.supabase.from("guests").update(l).eq("id",t.user.id);if(u)throw Error("Guest could not be updated");(0,n.revalidatePath)("/account/profile")}async function f(e){let t=await (0,s.auth)();if(!t)throw Error("You must be logged in");if(!(await (0,o.getBookings)(t.user.id)).map(e=>e.id).includes(e))throw Error("You can only delete your own bookings");let{error:r}=await i.supabase.from("bookings").delete().eq("id",e);if(r)throw Error("Booking could not be deleted");(0,n.revalidatePath)("/account/reservations")}async function m(e){let t=e.get("bookingid"),r=await (0,s.auth)();if(!r)throw Error("You must be logged in");if(!(await (0,o.getBookings)(r.user.id)).map(e=>String(e.id)).includes(t))throw Error("You can only delete your own bookings");let a={numGuests:e.get("numGuests"),observations:e.get("observations")},{data:c,error:u}=await i.supabase.from("bookings").update(a).eq("id",t).select().single();if(u)throw console.error(u),Error("Booking could not be updated");(0,n.revalidatePath)(`/account/reservations/edit/${t}`),(0,n.revalidatePath)("/account/reservations"),(0,l.redirect)("/account/reservations")}(0,r(46893).ensureServerEntryExports)([c,u,d,f,m]),(0,a.registerServerReference)("8b7c6bed1c0cd29ebf2b89b9903e59109d354911",c),(0,a.registerServerReference)("20087f54aa602d5b4086a378c4299745dc4b626c",u),(0,a.registerServerReference)("51b2b1cba7e171f1a45553ca6886f74d0a56b5eb",d),(0,a.registerServerReference)("90345a854b6eafea256aa9cb5b4c6397eac54871",f),(0,a.registerServerReference)("2e331df8dec3e9e323daee26687fce2ab53df48f",m)},97411:(e,t,r)=>{"use strict";r.d(t,{createGuest:()=>i,getBookings:()=>s,getGuest:()=>n});var a=r(2075);async function n(e){let{data:t,error:r}=await a.supabase.from("guests").select("*").eq("email",e).single();return t}async function s(e){let{data:t,error:r,count:n}=await a.supabase.from("bookings").select("id, created_at, startDate, endDate, numNights, numGuests, totalPrice, guestId, cabinId, cabins(name, image)").eq("guestId",e).order("startDate");if(r)throw console.error(r),Error("Bookings could not get loaded");return t}async function i(e){let{data:t,error:r}=await a.supabase.from("guests").insert([e]);if(r)throw console.error(r),Error("Guest could not be created");return t}r(52810)},2075:(e,t,r)=>{"use strict";r.d(t,{supabase:()=>a});let a=(0,r(53094).createClient)(process.env.SUPABASE_URL,process.env.SUPABASE_KEY)},11615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(25036);let n=(0,r(86843).createProxy)(String.raw`G:\next js project\anandhu-wild-oasis-final-2-after-start\app\_components\SideNavigation.js`),{__esModule:s,$$typeof:i}=n,o=n.default;function l({children:e}){return(0,a.jsxs)("div",{className:"grid grid-cols-[16rem_1fr] h-full gap-12",children:[a.jsx(o,{}),a.jsx("div",{className:"py-1",children:e})]})}},69547:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(25036),n=r(15300);function s(){return a.jsx(n.Z,{})}},65650:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>p});var a=r(25036),n=r(86843);let s=(0,n.createProxy)(String.raw`G:\next js project\anandhu-wild-oasis-final-2-after-start\app\_components\DeleteReservation.js`),{__esModule:i,$$typeof:o}=s;s.default,r(2813),r(16274);let l=(0,n.createProxy)(String.raw`G:\next js project\anandhu-wild-oasis-final-2-after-start\app\_components\ReservationList.js`),{__esModule:c,$$typeof:u}=l,d=l.default;var f=r(46370),m=r(66563);let p={title:"Reservations"};async function x(){let e=await (0,f.I8)(),t=await (0,m.aL)(e.user.id);return console.log(t),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"font-semibold text-2xl text-accent-400 mb-7",children:"Your reservations"}),0===t.length?(0,a.jsxs)("p",{className:"text-lg",children:["You have no reservations yet. Check out our"," ",a.jsx("a",{className:"underline text-accent-500",href:"/cabins",children:"luxury cabins →"})]}):a.jsx(d,{bookings:t})]})}},4474:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var a=r(60522);function n(e,t){let r=(0,a.Q)(e),n=(0,a.Q)(t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}},15802:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var a=r(60522);function n(e){let t=(0,a.Q)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},11657:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var a=r(63519);function n(e,t){return+(0,a.b)(e)==+(0,a.b)(t)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,148,38,610,156,867],()=>r(73259));module.exports=a})();